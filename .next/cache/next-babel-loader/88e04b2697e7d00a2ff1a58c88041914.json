{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/crmock/pideenlaequina/front/components/map.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Head from 'next/head';\n\nvar Map = /*#__PURE__*/function (_React$Component) {\n  _inherits(Map, _React$Component);\n\n  var _super = _createSuper(Map);\n\n  function Map() {\n    _classCallCheck(this, Map);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Map, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initMap();\n    }\n  }, {\n    key: \"initMap\",\n    value: function initMap() {\n      var pos = this.initialPosition;\n      this.map = new google.maps.Map(document.getElementById('map'), {\n        center: pos,\n        zoom: 15,\n        mapTypeControl: false,\n        fullscreenControl: false\n      });\n    }\n  }, {\n    key: \"initialPosition\",\n    value: function initialPosition() {\n      var pos, ip;\n      return _regeneratorRuntime.async(function initialPosition$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              pos = {\n                lat: 4.603843,\n                lng: -74.062705\n              };\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(fetch('https://api.ipify.org').then(function (response) {\n                return response.text();\n              }));\n\n            case 3:\n              ip = _context.sent;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(fetch('https://api.ipgeolocation.io/ipgeo?apiKey=02ff42e6f29c453e8d60df6139f5f9ed&ip=' + ip).then(function (response) {\n                return response.json();\n              }));\n\n            case 6:\n              pos = _context.sent;\n              return _context.abrupt(\"return\", {\n                lat: parseFloat(pos.latitude),\n                lng: parseFloat(pos.longitude)\n              });\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var customStyle = {\n        padding: \"0\",\n        margin: \"0\",\n        display: 'block',\n        height: '97vh',\n        background: 'WhiteSmoke'\n      };\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 7\n        }\n      }, __jsx(Head, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }\n      }, __jsx(\"script\", {\n        src: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyBt0ZCE1kAklBJiBnCYGX6kl0tglLcKlLI\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }\n      })), __jsx(\"div\", {\n        id: \"map\",\n        style: customStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }\n      }, \"Cargando...\"));\n    }\n  }]);\n\n  return Map;\n}(React.Component);\n\nexport default Map;","map":{"version":3,"sources":["/home/crmock/pideenlaequina/front/components/map.js"],"names":["React","ReactDOM","Head","Map","initMap","pos","initialPosition","map","google","maps","document","getElementById","center","zoom","mapTypeControl","fullscreenControl","lat","lng","fetch","then","response","text","ip","json","parseFloat","latitude","longitude","customStyle","padding","margin","display","height","background","Component"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,IAAP,MAAiB,WAAjB;;IAEMC,G;;;;;;;;;;;;;wCAGJ;AACE,WAAKC,OAAL;AACD;;;8BAGD;AACE,UAAIC,GAAG,GAAG,KAAKC,eAAf;AAEA,WAAKC,GAAL,GAAW,IAAIC,MAAM,CAACC,IAAP,CAAYN,GAAhB,CAAoBO,QAAQ,CAACC,cAAT,CAAwB,KAAxB,CAApB,EAAoD;AAC7DC,QAAAA,MAAM,EAAEP,GADqD;AAE7DQ,QAAAA,IAAI,EAAE,EAFuD;AAG7DC,QAAAA,cAAc,EAAE,KAH6C;AAI7DC,QAAAA,iBAAiB,EAAE;AAJ0C,OAApD,CAAX;AAMD;;;;;;;;;AAIKV,cAAAA,G,GAAM;AAACW,gBAAAA,GAAG,EAAC,QAAL;AAAgBC,gBAAAA,GAAG,EAAE,CAAC;AAAtB,e;;+CACKC,KAAK,CAAC,uBAAD,CAAL,CAA+BC,IAA/B,CAAoC,UAAAC,QAAQ;AAAA,uBAAEA,QAAQ,CAACC,IAAT,EAAF;AAAA,eAA5C,C;;;AAAXC,cAAAA,E;;+CACQJ,KAAK,CAAC,mFAAiFI,EAAlF,CAAL,CAA2FH,IAA3F,CAAgG,UAAAC,QAAQ;AAAA,uBAAEA,QAAQ,CAACG,IAAT,EAAF;AAAA,eAAxG,C;;;AAAZlB,cAAAA,G;+CACO;AAACW,gBAAAA,GAAG,EAACQ,UAAU,CAACnB,GAAG,CAACoB,QAAL,CAAf;AAA+BR,gBAAAA,GAAG,EAACO,UAAU,CAACnB,GAAG,CAACqB,SAAL;AAA7C,e;;;;;;;;;;;6BAIC;AACR,UAAIC,WAAW,GAAG;AAChBC,QAAAA,OAAO,EAAC,GADQ;AAEhBC,QAAAA,MAAM,EAAC,GAFS;AAGhBC,QAAAA,OAAO,EAAE,OAHO;AAIhBC,QAAAA,MAAM,EAAE,MAJQ;AAMhBC,QAAAA,UAAU,EAAC;AANK,OAAlB;AASA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,GAAG,EAAC,qFAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE;AAAK,QAAA,EAAE,EAAC,KAAR;AAAc,QAAA,KAAK,EAAEL,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAJF,CADF;AAQD;;;;EA9Ce3B,KAAK,CAACiC,S;;AAiDxB,eAAe9B,GAAf","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Head from 'next/head'\n\nclass Map extends React.Component {\n\n  componentDidMount() \n  {\n    this.initMap();\n  }\n\n  initMap()\n  {\n    let pos = this.initialPosition\n\n    this.map = new google.maps.Map(document.getElementById('map'), {\n      center: pos,\n      zoom: 15,\n      mapTypeControl: false,\n      fullscreenControl: false,\n    });\n  }\n\n  async initialPosition()\n  {\n    let pos = {lat:4.603843 , lng: -74.062705};\n    let ip = await fetch('https://api.ipify.org').then(response=>response.text()); \n    pos = await fetch('https://api.ipgeolocation.io/ipgeo?apiKey=02ff42e6f29c453e8d60df6139f5f9ed&ip='+ip).then(response=>response.json());\n    return {lat:parseFloat(pos.latitude), lng:parseFloat(pos.longitude)};\n  }\n\n\n  render () {\n    var customStyle = {\n      padding:\"0\",\n      margin:\"0\",\n      display: 'block',\n      height: '97vh',\n      \n      background:'WhiteSmoke'\n    }\n    \n    return (\n      <div>\n        <Head>\n          <script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBt0ZCE1kAklBJiBnCYGX6kl0tglLcKlLI\"></script>\n        </Head>\n        <div id=\"map\" style={customStyle}>Cargando...</div>\n      </div>\n    )\n  }\n}\n\nexport default Map\n"]},"metadata":{},"sourceType":"module"}
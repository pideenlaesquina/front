{"ast":null,"code":"var _jsxFileName = \"/home/crmock/pideenlaequina/front/components/map.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Head from 'next/head';\n\nclass Map extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      map: null,\n      userMarker: null\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.pos != null) {}\n\n    return {\n      favoritecolor: props.favcol\n    };\n  }\n\n  initMap() {\n    let map = new google.maps.Map(document.getElementById('map'), {\n      center: this.props.pos,\n      zoom: 15,\n      mapTypeControl: false,\n      fullscreenControl: false\n    });\n    this.setUserMarker(this.props.pos, map);\n    this.setState({\n      map: map\n    });\n  }\n\n  setUserMarker(pos, map) {\n    this.state.userMarker.setMap(null);\n    let marker = new google.maps.Marker({\n      position: pos,\n      icon: './map/user_icon.svg',\n      title: \"Tu ubicación\",\n      draggable: false\n    });\n    marker.setMap(map);\n    map.panTo(pos);\n    this.setState({\n      userMarker: marker\n    });\n  }\n\n  setStoresMarkers(stores, map) {\n    for (let i = 0; i < stores.length; i++) {\n      store = stores[i];\n\n      if (store.id == null || store.lat == null || store.lng == null || store.name == null) {\n        console.log(\"Skiped store #\" + i);\n        continue;\n      }\n\n      store.type = store.type == null ? \"store\" : store.type.toLowerCase();\n      let icon_normal = './map/' + store.type + \"_icon.svg\";\n      let icon_hover = './map/' + store.type + \"_icon_hover.svg\";\n      let marker = new google.maps.Marker({\n        position: {\n          lat: store.lat,\n          lng: store.lng\n        },\n        icon: icon_normal,\n        title: store.name,\n        draggable: false,\n        id: store.id //custom data\n\n      });\n      google.maps.event.addListener(marker, 'click', function () {\n        console.log(\"click \" + marker.id);\n      });\n      google.maps.event.addListener(marker, 'mouseover', function () {\n        marker.setIcon(icon_hover);\n      });\n      google.maps.event.addListener(marker, 'mouseout', function () {\n        marker.setIcon(icon_normal);\n      });\n      marker.setMap(map);\n    }\n  }\n\n  render() {\n    var customStyle = {\n      padding: \"0\",\n      margin: \"0\",\n      display: 'block',\n      height: '97vh',\n      background: 'WhiteSmoke'\n    };\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }\n    }, __jsx(Head, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, __jsx(\"script\", {\n      src: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyBt0ZCE1kAklBJiBnCYGX6kl0tglLcKlLI\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    })), __jsx(\"div\", {\n      id: \"map\",\n      style: customStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }, \"Cargando...\"));\n  }\n\n}\n\nexport default Map;","map":{"version":3,"sources":["/home/crmock/pideenlaequina/front/components/map.js"],"names":["React","ReactDOM","Head","Map","Component","constructor","props","state","map","userMarker","getDerivedStateFromProps","pos","favoritecolor","favcol","initMap","google","maps","document","getElementById","center","zoom","mapTypeControl","fullscreenControl","setUserMarker","setState","setMap","marker","Marker","position","icon","title","draggable","panTo","setStoresMarkers","stores","i","length","store","id","lat","lng","name","console","log","type","toLowerCase","icon_normal","icon_hover","event","addListener","setIcon","render","customStyle","padding","margin","display","height","background"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Head from 'next/head'\n\nclass Map extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      map: null,\n      userMarker: null\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if(props.pos != null)\n    {\n      \n    }\n\n    return {favoritecolor: props.favcol };\n  }\n\n  initMap()\n  {\n    let map = new google.maps.Map(document.getElementById('map'), {\n      center: this.props.pos,\n      zoom: 15,\n      mapTypeControl: false,\n      fullscreenControl: false,\n    })\n\n    this.setUserMarker(this.props.pos, map)\n\n    this.setState({map: map})\n  }\n\n  setUserMarker(pos, map)\n  {\n    this.state.userMarker.setMap(null);\n\n    let marker = new google.maps.Marker({\n      position: pos,\n      icon: './map/user_icon.svg',\n      title: \"Tu ubicación\",\n      draggable:false,\n    })\n\n    marker.setMap(map);\n    map.panTo(pos);\n\n    this.setState({userMarker: marker})\n  }\n\n  setStoresMarkers(stores, map)\n  {\n    for (let i = 0; i < stores.length; i++) {\n      store = stores[i]\n\n      if(store.id == null || store.lat == null || store.lng == null || store.name == null)\n      {\n        console.log(\"Skiped store #\"+i)\n        continue\n      }\n\n      store.type = (store.type==null?\"store\":store.type.toLowerCase())\n      let icon_normal = './map/' + store.type + \"_icon.svg\";\n      let icon_hover = './map/' + store.type + \"_icon_hover.svg\";\n      \n      let marker = new google.maps.Marker({\n        position: {lat:store.lat, lng:store.lng},\n        icon: icon_normal,\n        title:store.name,\n        draggable:false,\n        id:store.id, //custom data\n      })\n\n      google.maps.event.addListener(marker, 'click', function() {\n        console.log(\"click \" +marker.id)       \n      })\n\n      google.maps.event.addListener(marker, 'mouseover', function() {\n        marker.setIcon(icon_hover);\n      })\n  \n      google.maps.event.addListener(marker, 'mouseout', function() {\n        marker.setIcon(icon_normal);    \n      })\n  \n      marker.setMap(map)\n    }\n  }\n\n  render () {\n    var customStyle = {\n      padding:\"0\",\n      margin:\"0\",\n      display: 'block',\n      height: '97vh',\n      \n      background:'WhiteSmoke'\n    }\n    \n    return (\n      <div>\n        <Head>\n          <script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBt0ZCE1kAklBJiBnCYGX6kl0tglLcKlLI\"></script>\n        </Head>\n        <div id=\"map\" style={customStyle}>Cargando...</div>\n      </div>\n    )\n  }\n}\n\nexport default Map\n"]},"metadata":{},"sourceType":"module"}
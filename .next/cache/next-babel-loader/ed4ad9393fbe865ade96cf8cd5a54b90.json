{"ast":null,"code":"var _jsxFileName = \"/home/crmock/pideenlaequina/front/components/map.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Head from 'next/head';\n\nclass Map extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      map: null,\n      userMarker: null,\n      stores: []\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    let newMap = null;\n    let newUserMarker = null;\n    let newStores = [];\n\n    if (typeof google !== 'undefined' && props.pos != null && props.pos.lat != null && props.pos.lng != null) {\n      if (state.map == null) {\n        newMap = new google.maps.Map(document.getElementById('map'), {\n          center: props.pos,\n          zoom: 15,\n          mapTypeControl: false,\n          fullscreenControl: false\n        });\n      } else {\n        newMap = state.map;\n      }\n\n      if (this.state.userMarker != null) {\n        this.state.userMarker.setMap(null);\n      }\n\n      newUserMarker = new google.maps.Marker({\n        position: props.pos,\n        icon: './map/user_icon.svg',\n        title: \"Tu ubicación\",\n        draggable: false\n      });\n      newUserMarker.setMap(newMap);\n      newMap.panTo(prop.pos);\n\n      if (Array.isArray(props.stores) && props.stores.length) {\n        for (let i = 0; i < stores.length; i++) {\n          store = stores[i];\n\n          if (store.id == null || store.lat == null || store.lng == null || store.name == null) {\n            console.log(\"Skiped store #\" + i);\n            continue;\n          }\n\n          store.type = store.type == null ? \"store\" : store.type.toLowerCase();\n          let icon_normal = './map/' + store.type + \"_icon.svg\";\n          let icon_hover = './map/' + store.type + \"_icon_hover.svg\";\n          let marker = new google.maps.Marker({\n            position: {\n              lat: store.lat,\n              lng: store.lng\n            },\n            icon: icon_normal,\n            title: store.name,\n            draggable: false,\n            id: store.id //custom data\n\n          });\n          google.maps.event.addListener(marker, 'click', function () {\n            console.log(\"click \" + marker.id);\n          });\n          google.maps.event.addListener(marker, 'mouseover', function () {\n            marker.setIcon(icon_hover);\n          });\n          google.maps.event.addListener(marker, 'mouseout', function () {\n            marker.setIcon(icon_normal);\n          });\n          newStores.push(marker);\n        }\n\n        setMapOnAll(newStores);\n      } else {}\n    }\n\n    return {\n      map: newMap,\n      userMarker: newUserMarker,\n      stores: newStores\n    };\n  }\n\n  setStoresMarkers(stores, map) {\n    for (let i = 0; i < stores.length; i++) {\n      store = stores[i];\n\n      if (store.id == null || store.lat == null || store.lng == null || store.name == null) {\n        console.log(\"Skiped store #\" + i);\n        continue;\n      }\n\n      store.type = store.type == null ? \"store\" : store.type.toLowerCase();\n      let icon_normal = './map/' + store.type + \"_icon.svg\";\n      let icon_hover = './map/' + store.type + \"_icon_hover.svg\";\n      let marker = new google.maps.Marker({\n        position: {\n          lat: store.lat,\n          lng: store.lng\n        },\n        icon: icon_normal,\n        title: store.name,\n        draggable: false,\n        id: store.id //custom data\n\n      });\n      google.maps.event.addListener(marker, 'click', function () {\n        console.log(\"click \" + marker.id);\n      });\n      google.maps.event.addListener(marker, 'mouseover', function () {\n        marker.setIcon(icon_hover);\n      });\n      google.maps.event.addListener(marker, 'mouseout', function () {\n        marker.setIcon(icon_normal);\n      });\n      marker.setMap(map);\n    }\n  }\n\n  render() {\n    var customStyle = {\n      padding: \"0\",\n      margin: \"0\",\n      display: 'block',\n      height: '97vh',\n      background: 'WhiteSmoke'\n    };\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }\n    }, __jsx(Head, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }\n    }, __jsx(\"script\", {\n      src: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyBt0ZCE1kAklBJiBnCYGX6kl0tglLcKlLI\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    })), __jsx(\"div\", {\n      id: \"map\",\n      style: customStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }\n    }, \"Cargando...\"));\n  }\n\n}\n\nexport default Map;","map":{"version":3,"sources":["/home/crmock/pideenlaequina/front/components/map.js"],"names":["React","ReactDOM","Head","Map","Component","constructor","props","state","map","userMarker","stores","getDerivedStateFromProps","newMap","newUserMarker","newStores","google","pos","lat","lng","maps","document","getElementById","center","zoom","mapTypeControl","fullscreenControl","setMap","Marker","position","icon","title","draggable","panTo","prop","Array","isArray","length","i","store","id","name","console","log","type","toLowerCase","icon_normal","icon_hover","marker","event","addListener","setIcon","push","setMapOnAll","setStoresMarkers","render","customStyle","padding","margin","display","height","background"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Head from 'next/head'\n\nclass Map extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      map: null,\n      userMarker: null,\n      stores: []\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    let newMap = null\n    let newUserMarker = null\n    let newStores = []\n\n    if(typeof google !== 'undefined' && props.pos != null && props.pos.lat != null && props.pos.lng != null) \n    {\n      if(state.map == null)\n      {\n        newMap = new google.maps.Map(document.getElementById('map'), {\n          center: props.pos,\n          zoom: 15,\n          mapTypeControl: false,\n          fullscreenControl: false,\n        })\n      }\n      else\n      {\n        newMap = state.map\n      }\n\n      if(this.state.userMarker != null)\n      {\n        this.state.userMarker.setMap(null);\n      }\n\n      newUserMarker = new google.maps.Marker({\n        position: props.pos,\n        icon: './map/user_icon.svg',\n        title: \"Tu ubicación\",\n        draggable:false,\n      })\n\n      newUserMarker.setMap(newMap);\n      newMap.panTo(prop.pos);\n\n      if(Array.isArray(props.stores) && props.stores.length)\n      {\n        for (let i = 0; i < stores.length; i++) {\n          store = stores[i]\n    \n          if(store.id == null || store.lat == null || store.lng == null || store.name == null)\n          {\n            console.log(\"Skiped store #\"+i)\n            continue\n          }\n    \n          store.type = (store.type==null?\"store\":store.type.toLowerCase())\n          let icon_normal = './map/' + store.type + \"_icon.svg\";\n          let icon_hover = './map/' + store.type + \"_icon_hover.svg\";\n          \n          let marker = new google.maps.Marker({\n            position: {lat:store.lat, lng:store.lng},\n            icon: icon_normal,\n            title:store.name,\n            draggable:false,\n            id:store.id, //custom data\n          })\n    \n          google.maps.event.addListener(marker, 'click', function() {\n            console.log(\"click \" +marker.id)       \n          })\n    \n          google.maps.event.addListener(marker, 'mouseover', function() {\n            marker.setIcon(icon_hover);\n          })\n      \n          google.maps.event.addListener(marker, 'mouseout', function() {\n            marker.setIcon(icon_normal);    \n          })\n      \n          newStores.push(marker)\n        }\n\n        setMapOnAll(newStores)\n      }\n      else\n      {\n        \n      }\n    }\n\n    return {\n      map: newMap,\n      userMarker: newUserMarker,\n      stores:newStores\n    }\n  }\n\n  setStoresMarkers(stores, map)\n  {\n    for (let i = 0; i < stores.length; i++) {\n      store = stores[i]\n\n      if(store.id == null || store.lat == null || store.lng == null || store.name == null)\n      {\n        console.log(\"Skiped store #\"+i)\n        continue\n      }\n\n      store.type = (store.type==null?\"store\":store.type.toLowerCase())\n      let icon_normal = './map/' + store.type + \"_icon.svg\";\n      let icon_hover = './map/' + store.type + \"_icon_hover.svg\";\n      \n      let marker = new google.maps.Marker({\n        position: {lat:store.lat, lng:store.lng},\n        icon: icon_normal,\n        title:store.name,\n        draggable:false,\n        id:store.id, //custom data\n      })\n\n      google.maps.event.addListener(marker, 'click', function() {\n        console.log(\"click \" +marker.id)       \n      })\n\n      google.maps.event.addListener(marker, 'mouseover', function() {\n        marker.setIcon(icon_hover);\n      })\n  \n      google.maps.event.addListener(marker, 'mouseout', function() {\n        marker.setIcon(icon_normal);    \n      })\n  \n      marker.setMap(map)\n    }\n  }\n\n  render () {\n    var customStyle = {\n      padding:\"0\",\n      margin:\"0\",\n      display: 'block',\n      height: '97vh',\n      \n      background:'WhiteSmoke'\n    }\n    \n    return (\n      <div>\n        <Head>\n          <script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBt0ZCE1kAklBJiBnCYGX6kl0tglLcKlLI\"></script>\n        </Head>\n        <div id=\"map\" style={customStyle}>Cargando...</div>\n      </div>\n    )\n  }\n}\n\nexport default Map\n"]},"metadata":{},"sourceType":"module"}